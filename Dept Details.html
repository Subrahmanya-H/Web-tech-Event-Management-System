<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>University Event Management</title>
    <link rel="stylesheet" href="C:\Users\subbu\OneDrive\Desktop\V sem\WT(lab)\node\styles.css">
    <!-- FullCalendar CSS -->
    <link href="https://cdn.jsdelivr.net/npm/fullcalendar@5.11.3/main.min.css" rel="stylesheet">
    <!-- Add CSS for event cards -->
<style>
  .events-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 16px;
      padding: 16px;
  }
  .event-card {
      border: 1px solid #ddd;
      border-radius: 8px;
      overflow: hidden;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  }
  .event-card img {
      width: 100%;
      height: auto;
  }
  .event-card .event-info {
      padding: 16px;
  }
  .event-card h3 {
      margin: 0 0 8px;
  }
  .event-card p {
      margin: 0;
      color: #555;
  }
         
  body {
                font-family: Arial, sans-serif;
                margin: 20px;
                text-align: center;
                background-color: #f4f4f9;
            }
    
            h1 {
                color: #333;
            }
    
            .image-gallery {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
                gap: 20px;
                margin: 20px;
                padding: 0;
                justify-items: center;
            }
    
            .image-card {
                position: relative;
                width: 200px;
                border-radius: 8px;
                overflow: hidden;
                box-shadow: 2px 2px 8px rgba(0, 0, 0, 0.2);
                transition: transform 0.3s ease;
            }
    
            .image-card img {
                width: 100%;
                height: auto;
                object-fit: cover;
            }
    
            .image-card:hover {
                transform: scale(1.05);
            }
    
            .overlay {
                position: absolute;
                bottom: 0;
                background: rgba(0, 0, 0, 0.7);
                color: #fff;
                width: 100%;
                padding: 10px;
                box-sizing: border-box;
                text-align: center;
            }
    
            .overlay h3 {
                margin: 0;
                font-size: 16px;
            }
    
            .overlay p {
                margin: 5px 0 0;
                font-size: 14px;
            }

</style>
</head>
<body>
    <!-- University Header -->
    <div class="uni-header">
        <div class="logo">
            <img src="C:/Users/subbu/OneDrive/Desktop/logo.png" alt="KLE Technological University Logo">
        </div>
        <div class="info">
            <div>Approved by AICTE</div>
            <div>CET Code: E241</div>
            <div>COMED-K Code: E016</div>
            <div>Help_Desk:0836-2378103/105/106</div>
            <div><a href="mailto:info@kletech.ac.in">Email: info@kletech.ac.in</a></div>
        </div>
    </div>

    <!-- Header Section -->
    <header>
        <div class="image-container">
            <img src="https://magenta-alfajores-d4c818.netlify.app/college-image.jpg" alt="Background Image">
        </div>
    </header>

    <!-- Notification Bar -->
    <div class="notification-bar">
        <span class="notification-label">Notifications</span>
        <div class="notification-text">
            <span class="scrolling-text">
                <span class="new-label">NEW</span>
                Candidates Data Change option is closed now and Defect Rectification is available.
            </span>
        </div>
        <a href="#" class="view-all-btn">View All</a>
    </div>

    <!-- Navigation Header -->
    <header class="nav-header">
        <div class="nav-links">
            <a href="index.html">Home</a> | 
            <a href="https://comforting-sprite-b5292b.netlify.app/">Registration</a> |
            <a href="previous.html">Previous events</a> | 
            <a href="https://effortless-bublanina-47590b.netlify.app/">OnGoing</a> | 
            <a href="Upcoming.html">Upcoming Events</a>
        </div>
        <div class="search-bar">
            <input type="text" placeholder="Search...">
            <input type="date">
            <button type="submit">Search</button>
        </div>
    </header>

    <section id="login">
        <h2>Login</h2>
        <form method="post" action="/login">
          <label for="username">Username</label>
          <input type="text" id="username" name="username" required><br><br>
          <label for="password">Password</label>
          <input type="password" id="password" name="password" required><br><br>
          <input type="submit" value="Login">
        </form>
      </section>

    <!-- Main Content -->
    <section>
        <h2>About the Portal</h2>
        <p>Stay updated with all departmental events happening in our university.</p>
    </section>

    <!-- Event Calendar -->
    <section id="calendar">
        <h2>Event Calendar</h2>
        <div id="calendar-container"></div>
    </section>

    <!-- Event Management Forms -->
    <section id="event-management">
        <h2>Manage Events</h2>
        <h3>Add New Event</h3>
        <form method="post" action="/addevent">
            <label for="eid">Event ID</label>
            <input type="text" id="eid" name="eid" required>
        
            <label for="title">Title</label>
            <input type="text" id="title" name="title" required>
        
            <label for="sdate">Start Date</label>
            <input type="date" id="sdate" name="sdate" required>
        
            <label for="loc">Location</label>
            <input type="text" id="loc" name="loc" required>
        
            <label for="image">Image URL</label>
            <input type="text" id="image" name="image">
        
            <label for="desc">Description</label>
            <textarea id="desc" name="EVENTDESC" required></textarea>
        
            <label for="url">Event URL</label>
            <input type="url" id="url" name="URL" required>
        
            <input type="submit" value="Add Event">
        </form>
        
        <h3>Delete Event</h3>
        <form method="post" action="/deleteevent">
            <label for="eid">Event ID</label>
            <input type="text" id="eid" name="eid" required>
            <input type="submit" value="Delete Event">
        </form>
        
        <h3>Update Event</h3>
        <form method="post" action="/updateevent">
            <label for="eid">Event ID</label>
            <input type="text" id="eid" name="eid" required>
        
            <label for="title">Title</label>
            <input type="text" id="title" name="title" required>
        
            <label for="sdate">Start Date</label>
            <input type="date" id="sdate" name="sdate" required>
        
            <label for="loc">Location</label>
            <input type="text" id="loc" name="loc" required>
        
            <label for="image">Image URL</label>
            <input type="text" id="image" name="image">
        
            <label for="desc">Description</label>
            <textarea id="desc" name="EVENTDESC" required></textarea>
        
            <label for="url">Event URL</label>
            <input type="url" id="url" name="URL" required>
        
            <input type="submit" value="Update Event">
        </form>
        
    </section>

    <!-- FullCalendar JS -->
    <script src="https://cdn.jsdelivr.net/npm/fullcalendar@5.11.3/main.min.js"></script>
    <script src="script.js"></script>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            var calendarEl = document.getElementById('calendar-container');
    
            var calendar = new FullCalendar.Calendar(calendarEl, {
                initialView: 'dayGridMonth',
                events: function(info, successCallback, failureCallback) {
                    // Fetch events from the server
                    fetch('/getevents')
                        .then(response => response.json())
                        .then(data => {
                            successCallback(data);  // Pass the events to FullCalendar
                        })
                        .catch(error => {
                            console.error('Error fetching events:', error);
                            failureCallback(error);
                        });
                },
                eventClick: function(info) {
                    window.location.href = info.event.url;
                }
            });
    
            calendar.render();
        });
    </script>

  
  
    
  <h1>Dynamic Event Gallery</h1>
  <div class="image-gallery" id="image-gallery">
      <!-- Dynamic cards will be inserted here -->
  </div>
  
  <script>
      // Simulating database data (Replace this with a real API fetch in your application)
      const eventData = [
          { id: 1, title: "New Year Celebration Fest", description: "Join us for a fun-filled evening to celebrate the Newhttps://www.freepik.com/free-photos-vectors/world-aids-day Year...", imageUrl: "https://www.shutterstock.com/shutterstock/photos/2546961791/display_1500/stock-photo-happy-new-year-beautiful-creative-holiday-web-banner-or-flyer-with-golden-firework-and-2546961791.jpg", url: "https://helonational.com/happy-new-year-2024/happy-new-year-celebration" },
          { id: 2, title: "Medical check up ", description: "checking bmi and other", imageUrl: "https://www.weavervillefamilymed.com/wp-content/uploads/2019/06/shutterstock_248855068.jpg", url: "https://en.wikipedia.org/wiki/HIV/AIDS" },
          { id: 3, title: "devfest", description: "coding competeion", imageUrl: "https://th.bing.com/th/id/OIP.3A8E0RqXkToIBiXb9kxqMgHaE8?w=237&h=180&c=7&r=0&o=5&dpr=1.3&pid=1.7", url: "https://en.wikipedia.org/wiki/Pushpa_2:_The_Rule" },
          { id: 4, title: "venture vibe", description: "Industry project", imageUrl: "https://th.bing.com/th/id/OIP.HIvNLrUDTCe2mU2R4rQgKQAAAA?w=251&h=180&c=7&r=0&o=5&dpr=1.3&pid=1.7", url: "https://www.ndtv.com/feature/winter-solstice-2024" },
          { id: 5, title: "MERRY CHRISTMAS", description: "LET US CELEB JESUS BIRTHDAY", imageUrl: "https://th.bing.com/th/id/OIP.iTeeHoo38Ti23HreAn3ZTgHaMT?w=119&h=199&c=7&r=0&o=5&dpr=1.1&pid=1.7", url: "https://www.ndtv.com/feature/merry-christmas-2024" },
          { id: 6, title: "Convocation", description: "Undergraduates turn into graduate", imageUrl: "https://th.bing.com/th/id/OIP.1ekOTEVSwa9RjsrS2azDKgHaE7?w=218&h=180&c=7&r=0&o=5&dpr=1.3&pid=1.7", url: "https://en.wikipedia.org/wiki/UI_(film)" },
          { id: 7, title: "ML exhibition", description: "Exhibiting all papers", imageUrl: "https://th.bing.com/th/id/OIP.TKiiRDiJFEC6RvQG8GSlJAHaEK?w=288&h=180&c=7&r=0&o=5&dpr=1.3&pid=1.7", url: "https://www.msn.com/en-in/video/webcontent/web-content/vi-CQ%2F88F69T80Dag?vid=SjzoN-RuK5I&provider=yt&ocid=msedgntp&pc=W088&cvid=baa9a29b9f7b4238b1ce03d88d379dc9&ei=8" },
          { id: 8, title: "ICRMLAI", description: "CONFERENCE 1", imageUrl: "https://th.bing.com/th/id/OIP.yBrsos8PdNF_PBizbAYyjgHaE8?rs=1&pid=ImgDetMain", url: "https://wework.co.in/workspaces/on-demand/conference-room" },
          { id: 9, title: "ICAI", description: "CONFERENCE 2", imageUrl: "https://th.bing.com/th/id/OIP.yBrsos8PdNF_PBizbAYyjgHaE8?rs=1&pid=ImgDetMain", url: "https://wework.co.in/workspaces/on-demand/conference-room" },
          { id: 10, title: "REPUBLIC DAY", description: "REPUBLIC DAY OF INDIA", imageUrl: "https://th.bing.com/th/id/OIP.MNkCGrb0HM6yY1VuQht01AAAAA?rs=1&pid=ImgDetMain", url: "https://en.wikipedia.org/wiki/Republic_Day_(India)" },
          { id: 11, title: "GATE 1", description: "ENGINEERING ENTRANCE EXAM", imageUrl: "https://th.bing.com/th/id/OIP.MU3H3MOUSuofwvog1c6QxwHaEK?w=325&h=183&c=7&r=0&o=5&dpr=1.3&pid=1.7", url: "https://gate2025.iitr.ac.in/index.html" },
          { id: 12, title: "GATE 2", description: "ENGINEERING ENTRANCE EXAM", imageUrl: "https://th.bing.com/th/id/OIP.MU3H3MOUSuofwvog1c6QxwHaEK?w=325&h=183&c=7&r=0&o=5&dpr=1.3&pid=1.7", url: "https://gate2025.iitr.ac.in/index.html" },

      ];
  
      // Function to populate the gallery dynamically
      function populateGallery() {
          const gallery = document.getElementById("image-gallery");
          eventData.forEach(event => {
              const card = document.createElement("div");
              card.className = "image-card";
              card.innerHTML = `
                  <img src="${event.imageUrl}" alt="${event.title}">
                  <div class="overlay">
                      <h3>${event.title}</h3>
                      <p>${event.description}</p>
                      <a href="${event.url}" target="_blank" rel="noopener noreferrer">View Details</a>
                  </div>
              `;
              gallery.appendChild(card);
          });
      }
  
      // Populate the gallery on page load
      populateGallery();

  </script>

  <script>
  function categorizeEvents() {
    const upcoming = document.querySelector("#upcoming-events .events-grid");
    const ongoing = document.querySelector("#ongoing-events .events-grid");
    const previous = document.querySelector("#previous-events .events-grid");

    eventData.forEach(event => {
        const eventDate = new Date(event.date);
        const card = createEventCard(event);

        if (eventDate > today) {
            upcoming.appendChild(card);
        } else if (eventDate.toDateString() === today.toDateString()) {
            ongoing.appendChild(card);
        } else {
            previous.appendChild(card);
        }
    });
}

function createEventCard(event) {
    const card = document.createElement("div");
    card.className = "event-card";
    card.innerHTML = `
        <img src="${event.imageUrl}" alt="${event.title}">
        <div class="event-info">
            <h3>${event.title}</h3>
            <p>${event.description}</p>
            <a href="${event.url}" target="_blank">View Details</a>
        </div>
    `;
    return card;
}

categorizeEvents();
</script>

<section id="event-sections">
    <h2>Event Sections</h2>
    <div id="upcoming-events">
        <h3>Upcoming Events</h3>
        <div class="events-grid"></div>
    </div>
    <div id="ongoing-events">
        <h3>Ongoing Events</h3>
        <div class="events-grid"></div>
    </div>
    <div id="previous-events">
        <h3>Previous Events</h3>
        <div class="events-grid"></div>
    </div>
</section>

<script>
    const today = new Date();

   

    function categorizeEvents() {
        const upcoming = document.querySelector("#upcoming-events .events-grid");
        const ongoing = document.querySelector("#ongoing-events .events-grid");
        const previous = document.querySelector("#previous-events .events-grid");

        eventData.forEach(event => {
            const eventDate = new Date(event.date);
            const card = createEventCard(event);

            if (eventDate > today) {
                upcoming.appendChild(card);
            } else if (eventDate.toDateString() === today.toDateString()) {
                ongoing.appendChild(card);
            } else {
                previous.appendChild(card);
            }
        });
    }

    function createEventCard(event) {
        const card = document.createElement("div");
        card.className = "event-card";
        card.innerHTML = `
            <img src="${event.imageUrl}" alt="${event.title}">
            <div class="event-info">
                <h3>${event.title}</h3>
                <p>${event.description}</p>
                <a href="${event.url}" target="_blank">View Details</a>
            </div>
        `;
        return card;
    }

    categorizeEvents();
</script>
  
  <body>
    <div class="feedback-form">
      <h2>Feedback Form</h2>
      <form id="feedbackForm">
        <label for="name">Name:</label>
        <input type="text" id="name" name="name" required />

        <label for="email">Email:</label>
        <input type="email" id="email" name="email" required />

        <label for="event">Event:</label>
        <input type="text" id="event" name="event" required />

        <label for="rating">Rating:</label>
        <select id="rating" name="rating" required>
          <option value="excellent">Excellent</option>
          <option value="good">Good</option>
          <option value="average">Average</option>
          <option value="poor">Poor</option>
        </select>

        <label for="feedback">Feedback:</label>
        <textarea id="feedback" name="feedback" rows="5" required></textarea>

        <button type="submit">Submit Feedback</button>
      </form>
    </div>

    <div id="feedbackDisplay" class="feedback-display" style="display: none">
      <h2>Submitted Feedback</h2>
      <p><strong>Name:</strong> <span id="displayName"></span></p>
      <p><strong>Email:</strong> <span id="displayEmail"></span></p>
      <p><strong>Event:</strong> <span id="displayEvent"></span></p>
      <p><strong>Rating:</strong> <span id="displayRating"></span></p>
      <p><strong>Feedback:</strong></p>
      <p id="displayFeedback"></p>
    </div>

    <script>
        document
          .getElementById("feedbackForm")
          .addEventListener("submit", function (event) {
            event.preventDefault(); // Prevent the form from submitting normally
  
            // Get the form data
            const name = document.getElementById("name").value;
            const email = document.getElementById("email").value;
            const eventName = document.getElementById("event").value;
            const rating = document.getElementById("rating").value;
            const feedback = document.getElementById("feedback").value;
  
            // Display the submitted data
            document.getElementById("displayName").textContent = name;
            document.getElementById("displayEmail").textContent = email;
            document.getElementById("displayEvent").textContent = eventName;
            document.getElementById("displayRating").textContent = rating;
            document.getElementById("displayFeedback").textContent = feedback;
  
            // Show the feedback display section
            document.getElementById("feedbackDisplay").style.display = "block";
  
            // Optionally, reset the form
            document.getElementById("feedbackForm").reset();
          });
      </script>
  

    
</body>
</html>
